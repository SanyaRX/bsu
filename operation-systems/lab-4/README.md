Тема: "Обмен данными по анонимным каналам".
Задача: написать программы для обмена сообщениями между процессами по анонимным каналам. Смоделировать топологию «звезда», где сервер анонимных каналов исполняет роль коммутатора анонимных каналов.
Требования к реализации.
1. Разработать процесс Server, который выполняет следующие действия.
1.1. Запрашивает с консоли количество процессов клиентов.
1.2. В цикле по количеству процессов клиентов выполняет следующие действия:
- запрашивает с консоли имя клиента;
- создает анонимный канал;
- создает процесс-клиент, которому через командную строку передает: имя клиента, дескрипторы анонимного канала.
1.3.Получает сообщения от процессов Client и пересылает эти сообщения процессам адресатам.
2. Разработать процесс Client, который выполняет следующие действия:
2.1. Выполняет цикл:
2.1.1. Запрашивает с консоли имя процесса адресата и текст сообщения.
2.1.2. Передает сообщение процессу Server.
2.2. Если пришло новое сообщение, то выводит его на консоль в формате:
- имя отправителя: <имя процесса отправителя>
- <текст сообщения>
Замечание. Сообщения имеют следующий формат:
struct message
{
char sender[10]; // имя процесса отправителя
char receiver[10]; // имя процесса получателя
char text[20]; // текст сообщения
};
